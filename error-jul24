Starting production server 🚀
 
             Searching for package file structure from directories with __init__.py files

╭──────────────────────────────────────────────────────────── Traceback (most recent call last) ────────────────────────────────────────────────────────────╮
│ /Users/N133723/Library/Python/3.12/lib/python/site-packages/fastapi_cli/cli.py:334 in run                                                                 │
│                                                                                                                                                           │
│   331 │                                                                                        ╭───────────────── locals ─────────────────╮               │
│   332 │   Otherwise, it uses the first [bold]FastAPI[/bold] app found in the imported module o │           app = None                     │               │
│   333 │   """                                                                                  │          host = '0.0.0.0'                │               │
│ ❱ 334 │   _run(                                                                                │          path = PosixPath('app/main.py') │               │
│   335 │   │   path=path,                                                                       │          port = 8000                     │               │
│   336 │   │   host=host,                                                                       │ proxy_headers = True                     │               │
│   337 │   │   port=port,                                                                       │        reload = True                     │               │
│                                                                                                │     root_path = ''                       │               │
│                                                                                                │       workers = None                     │               │
│                                                                                                ╰──────────────────────────────────────────╯               │
│                                                                                                                                                           │
│ /Users/N133723/Library/Python/3.12/lib/python/site-packages/fastapi_cli/cli.py:101 in _run                                                                │
│                                                                                                                                                           │
│    98 │   │   )                                                                                                                                           │
│    99 │   │                                                                                                                                               │
│   100 │   │   try:                                                                                                                                        │
│ ❱ 101 │   │   │   import_data = get_import_data(path=path, app_name=app)                                                                                  │
│   102 │   │   except FastAPICLIException as e:                                                                                                            │
│   103 │   │   │   toolkit.print_line()                                                                                                                    │
│   104 │   │   │   toolkit.print(f"[error]{e}")                                                                                                            │
│                                                                                                                                                           │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮                                                                              │
│ │           app = None                                                     │                                                                              │
│ │       command = 'run'                                                    │                                                                              │
│ │          host = '0.0.0.0'                                                │                                                                              │
│ │          path = PosixPath('app/main.py')                                 │                                                                              │
│ │          port = 8000                                                     │                                                                              │
│ │ proxy_headers = True                                                     │                                                                              │
│ │        reload = True                                                     │                                                                              │
│ │     root_path = ''                                                       │                                                                              │
│ │   server_type = 'production'                                             │                                                                              │
│ │       toolkit = <rich_toolkit.toolkit.RichToolkit object at 0x1026b33e0> │                                                                              │
│ │       workers = None                                                     │                                                                              │
│ ╰──────────────────────────────────────────────────────────────────────────╯                                                                              │
│                                                                                                                                                           │
│ /Users/N133723/Library/Python/3.12/lib/python/site-packages/fastapi_cli/discover.py:126 in get_import_data                                                │
│                                                                                                                                                           │
│   123 │   │   raise FastAPICLIException(f"Path does not exist {path}")                                                                                    │
│   124 │   mod_data = get_module_data_from_path(path)                                                                                                      │
│   125 │   sys.path.insert(0, str(mod_data.extra_sys_path))                                                                                                │
│ ❱ 126 │   use_app_name = get_app_name(mod_data=mod_data, app_name=app_name)                                                                               │
│   127 │                                                                                                                                                   │
│   128 │   import_string = f"{mod_data.module_import_str}:{use_app_name}"                                                                                  │
│   129                                                                                                                                                     │
│                                                                                                                                                           │
│ ╭────────────────────────────────────────────────────────── locals ──────────────────────────────────────────────────────────╮                            │
│ │ app_name = None                                                                                                            │                            │
│ │ mod_data = ModuleData(                                                                                                     │                            │
│ │            │   module_import_str='main',                                                                                   │                            │
│ │            │   extra_sys_path=PosixPath('/Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app'),        │                            │
│ │            │   module_paths=[                                                                                              │                            │
│ │            │   │   PosixPath('/Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/main.py')            │                            │
│ │            │   ]                                                                                                           │                            │
│ │            )                                                                                                               │                            │
│ │     path = PosixPath('app/main.py')                                                                                        │                            │
│ ╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯                            │
│                                                                                                                                                           │
│ /Users/N133723/Library/Python/3.12/lib/python/site-packages/fastapi_cli/discover.py:70 in get_app_name                                                    │
│                                                                                                                                                           │
│    67                                                                                                                                                     │
│    68 def get_app_name(*, mod_data: ModuleData, app_name: Union[str, None] = None) -> str:                                                                │
│    69 │   try:                                                                                                                                            │
│ ❱  70 │   │   mod = importlib.import_module(mod_data.module_import_str)                                                                                   │
│    71 │   except (ImportError, ValueError) as e:                                                                                                          │
│    72 │   │   logger.error(f"Import error: {e}")                                                                                                          │
│    73 │   │   logger.warning(                                                                                                                             │
│                                                                                                                                                           │
│ ╭────────────────────────────────────────────────────────── locals ──────────────────────────────────────────────────────────╮                            │
│ │ app_name = None                                                                                                            │                            │
│ │ mod_data = ModuleData(                                                                                                     │                            │
│ │            │   module_import_str='main',                                                                                   │                            │
│ │            │   extra_sys_path=PosixPath('/Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app'),        │                            │
│ │            │   module_paths=[                                                                                              │                            │
│ │            │   │   PosixPath('/Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/main.py')            │                            │
│ │            │   ]                                                                                                           │                            │
│ │            )                                                                                                               │                            │
│ ╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯                            │
│                                                                                                                                                           │
│ /Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py:90 in import_module                                               │
│                                                                                                                                                           │
│    87 │   │   │   if character != '.':                                                         ╭───── locals ─────╮                                       │
│    88 │   │   │   │   break                                                                    │   level = 0      │                                       │
│    89 │   │   │   level += 1                                                                   │    name = 'main' │                                       │
│ ❱  90 │   return _bootstrap._gcd_import(name[level:], package, level)                          │ package = None   │                                       │
│    91                                                                                          ╰──────────────────╯                                       │
│    92                                                                                                                                                     │
│    93 _RELOADING = {}                                                                                                                                     │
│ in _gcd_import:1387                                                                                                                                       │
│ ╭───── locals ─────╮                                                                                                                                      │
│ │   level = 0      │                                                                                                                                      │
│ │    name = 'main' │                                                                                                                                      │
│ │ package = None   │                                                                                                                                      │
│ ╰──────────────────╯                                                                                                                                      │
│ in _find_and_load:1360                                                                                                                                    │
│ ╭──────────────── locals ─────────────────╮                                                                                                               │
│ │ module = <object object at 0x100850060> │                                                                                                               │
│ │   name = 'main'                         │                                                                                                               │
│ ╰─────────────────────────────────────────╯                                                                                                               │
│ in _find_and_load_unlocked:1331                                                                                                                           │
│ ╭─────────────────────────────────────────────────────────────────────── locals ────────────────────────────────────────────────────────────────────────╮ │
│ │        name = 'main'                                                                                                                                  │ │
│ │      parent = ''                                                                                                                                      │ │
│ │ parent_spec = None                                                                                                                                    │ │
│ │        path = None                                                                                                                                    │ │
│ │        spec = ModuleSpec(name='main', loader=<_frozen_importlib_external.SourceFileLoader object at 0x103119430>,                                     │ │
│ │               origin='/Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/main.py')                                               │ │
│ ╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯ │
│ in _load_unlocked:935                                                                                                                                     │
│ ╭─────────────────────────────────────────────────────────────────────── locals ────────────────────────────────────────────────────────────────────────╮ │
│ │ module = <module 'main' from '/Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/main.py'>                                       │ │
│ │   spec = ModuleSpec(name='main', loader=<_frozen_importlib_external.SourceFileLoader object at 0x103119430>,                                          │ │
│ │          origin='/Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/main.py')                                                    │ │
│ ╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯ │
│ in exec_module:995                                                                                                                                        │
│ ╭──────────────────────────────────────────────────────────────────── locals ────────────────────────────────────────────────────────────────────╮        │
│ │   code = <code object <module> at 0x10303d080, file "/Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/main.py", line 1> │        │
│ │ module = <module 'main' from '/Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/main.py'>                                │        │
│ │   self = <_frozen_importlib_external.SourceFileLoader object at 0x103119430>                                                                   │        │
│ ╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯        │
│ in _call_with_frames_removed:488                                                                                                                          │
│ ╭─────────────────────────────────────────────────────────────────────── locals ────────────────────────────────────────────────────────────────────────╮ │
│ │ args = (                                                                                                                                              │ │
│ │        │   <code object <module> at 0x10303d080, file "/Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/main.py", line 1>,     │ │
│ │        │   {                                                                                                                                          │ │
│ │        │   │   '__name__': 'main',                                                                                                                    │ │
│ │        │   │   '__doc__': None,                                                                                                                       │ │
│ │        │   │   '__package__': '',                                                                                                                     │ │
│ │        │   │   '__loader__': <_frozen_importlib_external.SourceFileLoader object at 0x103119430>,                                                     │ │
│ │        │   │   '__spec__': ModuleSpec(name='main', loader=<_frozen_importlib_external.SourceFileLoader object at 0x103119430>,                        │ │
│ │        origin='/Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/main.py'),                                                     │ │
│ │        │   │   '__file__': '/Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/main.py',                                         │ │
│ │        │   │   '__cached__': '/Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/__pycach'+24,                                   │ │
│ │        │   │   '__builtins__': {                                                                                                                      │ │
│ │        │   │   │   '__name__': 'builtins',                                                                                                            │ │
│ │        │   │   │   '__doc__': 'Built-in functions, types, exceptions, and other objects.\n\nThis module provides '+346,                               │ │
│ │        │   │   │   '__package__': '',                                                                                                                 │ │
│ │        │   │   │   '__loader__': <class '_frozen_importlib.BuiltinImporter'>,                                                                         │ │
│ │        │   │   │   '__spec__': ModuleSpec(name='builtins', loader=<class '_frozen_importlib.BuiltinImporter'>, origin='built-in'),                    │ │
│ │        │   │   │   '__build_class__': <built-in function __build_class__>,                                                                            │ │
│ │        │   │   │   '__import__': <built-in function __import__>,                                                                                      │ │
│ │        │   │   │   'abs': <built-in function abs>,                                                                                                    │ │
│ │        │   │   │   'all': <built-in function all>,                                                                                                    │ │
│ │        │   │   │   'any': <built-in function any>,                                                                                                    │ │
│ │        │   │   │   ... +147                                                                                                                           │ │
│ │        │   │   },                                                                                                                                     │ │
│ │        │   │   'FastAPI': <class 'fastapi.applications.FastAPI'>                                                                                      │ │
│ │        │   }                                                                                                                                          │ │
│ │        )                                                                                                                                              │ │
│ │    f = <built-in function exec>                                                                                                                       │ │
│ │ kwds = {}                                                                                                                                             │ │
│ ╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯ │
│                                                                                                                                                           │
│ /Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/main.py:2 in <module>                                                             │
│                                                                                                                                                           │
│    1 from fastapi import FastAPI                                                                                                                          │
│ ❱  2 from app.api.router import router                                                                                                                    │
│    3 from app.core.exception_handler import include_exceptions                                                                                            │
│    4 from app.core.exception_responses import responses                                                                                                   │
│    5 from app.database.spanner_client import SpannerClient                                                                                                │
│                                                                                                                                                           │
│ /Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/api/router.py:4 in <module>                                                       │
│                                                                                                                                                           │
│    1 from fastapi import APIRouter                                                                                                                        │
│    2                                                                                                                                                      │
│    3 from app.api.routes import index                                                                                                                     │
│ ❱  4 from app.api.v1.routes import requests                                                                                                               │
│    5 from app.core.constants import API_VERSION_V1, SERVER_ROOT_PATH, INDEX_ROUTES_TAG                                                                    │
│    6                                                                                                                                                      │
│    7 router = APIRouter()                                                                                                                                 │
│                                                                                                                                                           │
│ ╭────────────────────────────────────────────────────────────────── locals ──────────────────────────────────────────────────────────────────╮            │
│ │ index = <module 'app.api.routes.index' from '/Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/api/routes/index.py'> │            │
│ ╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯            │
│                                                                                                                                                           │
│ /Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/api/v1/routes/requests.py:4 in <module>                                           │
│                                                                                                                                                           │
│    1 from fastapi import APIRouter, Depends                                                                                                               │
│    2 from app.core.exception_responses import responses                                                                                                   │
│    3 from app.schemas.cost_estimator_request import CostEstimatorRequest                                                                                  │
│ ❱  4 from app.services.impl.cost_estimation_service_impl import CostEstimationServiceImpl                                                                 │
│    5                                                                                                                                                      │
│    6 router = APIRouter()                                                                                                                                 │
│    7                                                                                                                                                      │
│                                                                                                                                                           │
│ ╭─────────────────────────────────────────────────────────────────── locals ────────────────────────────────────────────────────────────────────╮         │
│ │ responses = {                                                                                                                                 │         │
│ │             │   200: {                                                                                                                        │         │
│ │             │   │   'description': 'Success',                                                                                                 │         │
│ │             │   │   'headers': {                                                                                                              │         │
│ │             │   │   │   'x-clientrefid': {                                                                                                    │         │
│ │             │   │   │   │   'description': 'A reference ID provided by the client, used for tracking and debugging purposes.'                 │         │
│ │             │   │   │   },                                                                                                                    │         │
│ │             │   │   │   'x-correlation-id': {                                                                                                 │         │
│ │             │   │   │   │   'description': 'A unique identifier for the request, used for tracking and debugging purposes.'                   │         │
│ │             │   │   │   }                                                                                                                     │         │
│ │             │   │   }                                                                                                                         │         │
│ │             │   },                                                                                                                            │         │
│ │             │   400: {                                                                                                                        │         │
│ │             │   │   'correlationId': '069d197a-1e14-453f-8cf4-63f74eb626ff',                                                                  │         │
│ │             │   │   'type': 'https://www.rfc-editor.org/rfc/rfc7231#section-6.5.1',                                                           │         │
│ │             │   │   'title': 'One or more validation errors occurred',                                                                        │         │
│ │             │   │   'status': 400,                                                                                                            │         │
│ │             │   │   'detail': 'Malformed request',                                                                                            │         │
│ │             │   │   'errors': '{}',                                                                                                           │         │
│ │             │   │   'message': 'Additional details'                                                                                           │         │
│ │             │   }                                                                                                                             │         │
│ │             }                                                                                                                                 │         │
│ ╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯         │
│                                                                                                                                                           │
│ /Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/services/impl/cost_estimation_service_impl.py:7 in <module>                       │
│                                                                                                                                                           │
│    4 from app.services.impl.benefit_service_impl import BenefitServiceImpl                                                                                │
│    5 from app.services.impl.accumulator_service_impl import AccumulatorServiceImpl                                                                        │
│    6 from app.schemas.cost_estimator_request import CostEstimatorRequest                                                                                  │
│ ❱  7 from app.repository.impl.cost_estimator_repository_impl import (                                                                                     │
│    8 │   CostEstimatorRepositoryImpl,                                                                                                                     │
│    9 )                                                                                                                                                    │
│   10 from app.mappers.cost_estimator_mapper import CostEstimatorMapper                                                                                    │
│                                                                                                                                                           │
│ ╭───────────────────────────────────────────────────────── locals ──────────────────────────────────────────────────────────╮                             │
│ │ asyncio = <module 'asyncio' from '/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/__init__.py'> │                             │
│ │    json = <module 'json' from '/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py'>       │                             │
│ ╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯                             │
│                                                                                                                                                           │
│ /Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/repository/impl/cost_estimator_repository_impl.py:4 in <module>                   │
│                                                                                                                                                           │
│     1 from app.repository.cost_estimator_repository import CostEstimatorRepositoryInterface                                                               │
│     2 from app.database.spanner_client import SpannerClient                                                                                               │
│     3 from app.config.database_config import spanner_config                                                                                               │
│ ❱   4 from app.config.queries import RATE_QUERIES                                                                                                         │
│     5 from app.core.logger import logger                                                                                                                  │
│     6 from app.models.rate_criteria import CostEstimatorRateCriteria                                                                                      │
│     7 from typing import Any, Union                                                                                                                       │
│                                                                                                                                                           │
│ ╭───────────────────────────────────────────────────────────────── locals ──────────────────────────────────────────────────────────────────╮             │
│ │ spanner_config = SpannerConfig(project_id='anbc-hcb-dev', env_name='DEV', instance_id='provider-de', database_id='cost-estimator-secure') │             │
│ ╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯             │
│                                                                                                                                                           │
│ /Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/config/queries.py:29 in <module>                                                  │
│                                                                                                                                                           │
│   26 │   "get_non_standard_rate": load_query("get_non_standard_rate"),                        ╭────────── locals ───────────╮                             │
│   27 │   "get_default_rate": load_query("get_default_rate"),                                  │ os = <module 'os' (frozen)> │                             │
│   28 │   "get_payment_method_score": load_query("get_payment_method_score"),                  ╰─────────────────────────────╯                             │
│ ❱ 29 │   "get_contract_rate_with_payment_methods": load_query("get_contract_rate_with_payment                                                             │
│   30 }                                                                                                                                                    │
│   31                                                                                                                                                      │
│                                                                                                                                                           │
│ /Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/config/queries.py:16 in load_query                                                │
│                                                                                                                                                           │
│   13                                                                                          ╭─────────────────────── locals ────────────────────────╮   │
│   14                                                                                          │ query_name = 'get_contract_rate_with_payment_methods' │   │
│   15 def load_query(query_name: str) -> str:                                                  ╰───────────────────────────────────────────────────────╯   │
│ ❱ 16 │   return open(                                                                                                                                     │
│   17 │   │   os.path.join(os.path.dirname(__file__), "queries", f"{query_name}.sql")                                                                      │
│   18 │   ).read()                                                                                                                                         │
│   19                                                                                                                                                      │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
FileNotFoundError: [Errno 2] No such file or directory: 
'/Users/N133723/Desktop/tlabchaat-355-24/cost-estimator-calc-service/app/config/queries/get_contract_rate_with_payment_methods.sql'
N133723@MACL2KVFV33RR cost-estimator-calc-service % 
